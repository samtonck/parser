# test_mission_parser

-Запуск - <strong>docker-compose up </strong><br>
-Запуск в  в фоновом режиме - <strong>docker-compose up -d </strong><br>
-Запуск и сборка - <strong>docker-compose up --build</strong><br>
-Запуск и сборка в фоновом режиме - <strong>docker-compose up --build -d</strong><br>
-Останавить и удалить контейнеры и другие ресурсы, созданные командой docker-compose up - <strong>docker-compose down</strong><br>

http://localhost:15400/app/{geo}/{request} 
- меняем {geo} на город который хотим выбрать. <br>
Писать можно на русском программа сама переводит в транслит <br>
пробелы меняются на нижнее подчеркивание, <br>
буквы из верхнего регистра преобразовываются в нижний <br>
(тут важно написать город в именительном падеже) <br>
например Нижний Тагил переведет в nizhniy_tagil,<br>
- меняем {request} на запрос который хотим отправить на сервер, запрос может быть любым, главное чтобы он удовлетворял условиям сайта Авито<br>
<br>
Пример:<br>
- переходим по ссылке http://localhost:15400/app/Нижний Тагил/куртка<br>
- получаем ответ: [["https://www.avito.ru/nizhniy_tagil/?q=куртка","Объявления по запросу «куртка» в Нижнем Тагиле 8 474"],"Зарегистрированно! ID = a6621eb7-c590-48fa-a262-1c63222e3f5f"]<br>
<br>

http://localhost:15400/stat/{id}<br>
- меняем {id} на идентификатор полученный в запросе на странице http://localhost:15400/app/{geo}/{request} <br>
<br>
Пример:<br>
- переходим по ссылке http://localhost:15400/stat/a6621eb7-c590-48fa-a262-1c63222e3f5f<br>
- получаем ответ: "Количество объявлений в связке 'nizhniy_tagil + куртка' = 8 474"<br>
<br>

Запросы можно делать через FastAPI - http://localhost:15400/docs <br>

# Важно!
Задачи которые нужно решить

- 1) база данных живет только пока запущен контейнер. Как только контейнер отключаем, все данный пропадают
- 2) в базе количество объявлений равно количеству на момент создания связки
- 3) нет обновления результатов связок раз в час 
